(function(){var t,e,n,i,s,o,r,a,h,l,u,c,p,f,d,_,g,m,y,v,b,T,O,w,k,E,x,S,C=function(t,e){return function(){return t.apply(e,arguments)}},L=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},P=[].slice;g=!0,w=function(t){return"undefined"!=typeof console&&null!==console&&console.warn("OriDomi: Missing support for `"+t+"`."),g=!1},E=function(t){var e,n,i,s;for(i=0,s=v.length;s>i;i++)if(n=v[i],(e=n+a(t))in k.style)return e;return t in k.style?t:!1},n=function(t,e){var n,i,s;i="."+t+"{";for(n in e)s=e[n],n in u&&(n=u[n],n.match(/^(webkit|moz|ms)/i)&&(n="-"+n)),i+=""+n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()+":"+s+";";return O+=i+"}"},d=function(t){return""+u.gradientProp+"("+t+", rgba(0, 0, 0, .5) 0%, rgba(255, 255, 255, .35) 100%)"},a=function(t){return t[0].toUpperCase()+t.slice(1)},l=function(t){var e;return e=document.createElement("div"),e.className=f[t],e},h=function(t,e,n){var i;return i=t.cloneNode(e),i.classList.add(f[n]),i},_=function(t){return t.style[u.transform]="translate3d(-99999px, 0, 0)"},T=function(t){return t.style[u.transform]="translate3d(0, 0, 0)"},b=function(t){return function(){var e,n,i,s,o,r;if(this._touchStarted)return t.apply(this,arguments);switch(e=arguments[0],n=arguments[1],i=arguments[2],r={},o=s=null,t.length){case 1:if(r.callback=e,!this.isFoldedUp)return"function"==typeof r.callback?r.callback():void 0;break;case 2:"function"==typeof e?r.callback=e:(s=e,r.callback=n);break;case 3:o=e,2===arguments.length?"object"==typeof n?r=n:"function"==typeof n?r.callback=n:s=n:3===arguments.length&&(s=n,"object"==typeof i?r=i:"function"==typeof i&&(r.callback=i))}return null==o&&(o=this._lastOp.angle||0),s||(s=this._lastOp.anchor),this._queue.push([t,this._normalizeAngle(o),this._getLonghandAnchor(s),r]),this._step(),this}},p=function(t){return setTimeout(t,0)},y=function(){},t=("undefined"!=typeof window&&null!==window?null!=(S=window.$)?S.data:void 0:void 0)?window.$:null,i=["left","right","top","bottom"],o=i.slice(0,2),s=i.slice(2),k=document.createElement("div"),O="",v=["Webkit","Moz","ms"],r="oridomi",f={active:"active",clone:"clone",holder:"holder",stage:"stage",stageLeft:"stage-left",stageRight:"stage-right",stageTop:"stage-top",stageBottom:"stage-bottom",content:"content",mask:"mask",maskH:"mask-h",maskV:"mask-v",panel:"panel",panelH:"panel-h",panelV:"panel-v",shader:"shader",shaderLeft:"shader-left",shaderRight:"shader-right",shaderTop:"shader-top",shaderBottom:"shader-bottom"};for(m in f)x=f[m],f[m]=""+r+"-"+x;u=new function(){var t,e,n,i;for(i=["transform","transformOrigin","transformStyle","transitionProperty","transitionDuration","transitionDelay","transitionTimingFunction","perspective","perspectiveOrigin","backfaceVisibility","boxSizing","mask"],e=0,n=i.length;n>e;e++)t=i[e],this[t]=t;return this},function(){var t,e,s,o,r,h,l,c,p,_;for(e in u)if(h=u[e],u[e]=E(h),!u[e])return w(h);if(s="preserve-3d",k.style[u.transformStyle]=s,k.style[u.transformStyle]!==s)return w(s);u.gradientProp=function(){var t,e,n,i;for(n=0,i=v.length;i>n;n++)if(e=v[n],t="-"+e.toLowerCase()+"-linear-gradient",k.style.backgroundImage=""+t+"(left, #000, #fff)",-1!==k.style.backgroundImage.indexOf("gradient"))return t;return"linear-gradient"}(),p=function(){var t,e,n,i,s;for(i=0,s=v.length;s>i;i++)if(n=v[i],e="grab",k.style.cursor=t="-"+n.toLowerCase()+"-"+e,k.style.cursor===t)return[t,"-"+n.toLowerCase()+"-grabbing"];return k.style.cursor=e,k.style.cursor===e?[e,"grabbing"]:["move","move"]}(),u.grab=p[0],u.grabbing=p[1],u.transformProp=(o=u.transform.match(/(\w+)Transform/i))?"-"+o[1].toLowerCase()+"-transform":"transform",u.transitionEnd=function(){switch(u.transitionProperty.toLowerCase()){case"transitionproperty":return"transitionEnd";case"webkittransitionproperty":return"webkitTransitionEnd";case"moztransitionproperty":return"transitionend";case"mstransitionproperty":return"msTransitionEnd"}}(),n(f.active,{backgroundColor:"transparent !important",backgroundImage:"none !important",boxSizing:"border-box !important",border:"none !important",outline:"none !important",padding:"0 !important",position:"relative",transformStyle:s+" !important",mask:"none !important"}),n(f.clone,{margin:"0 !important",boxSizing:"border-box !important",overflow:"hidden !important",display:"block !important"}),n(f.holder,{width:"100%",position:"absolute",top:"0",bottom:"0",transformStyle:s}),n(f.stage,{width:"100%",height:"100%",position:"absolute",transform:"translate3d(-9999px, 0, 0)",margin:"0",padding:"0",transformStyle:s}),_={Left:"0% 50%",Right:"100% 50%",Top:"50% 0%",Bottom:"50% 100%"};for(m in _)x=_[m],n(f["stage"+m],{perspectiveOrigin:x});for(n(f.shader,{width:"100%",height:"100%",position:"absolute",opacity:"0",top:"0",left:"0",pointerEvents:"none",transitionProperty:"opacity"}),l=0,c=i.length;c>l;l++)t=i[l],n(f["shader"+a(t)],{background:d(t)});return n(f.content,{margin:"0 !important",position:"relative !important",float:"none !important",boxSizing:"border-box !important",overflow:"hidden !important"}),n(f.mask,{width:"100%",height:"100%",position:"absolute",overflow:"hidden",transform:"translate3d(0, 0, 0)",outline:"1px solid transparent"}),n(f.panel,{width:"100%",height:"100%",padding:"0",position:"absolute",transitionProperty:u.transformProp,transformOrigin:"left",transformStyle:s}),n(f.panelH,{transformOrigin:"top"}),n(""+f.stageRight+" ."+f.panel,{transformOrigin:"right"}),n(""+f.stageBottom+" ."+f.panel,{transformOrigin:"bottom"}),r=document.createElement("style"),r.type="text/css",r.styleSheet?r.styleSheet.cssText=O:r.appendChild(document.createTextNode(O)),document.head.appendChild(r)}(),c={vPanels:3,hPanels:3,perspective:1e3,shading:"hard",speed:700,maxAngle:90,ripple:0,oriDomiClass:"oridomi",shadingIntensity:1,easingMethod:"",gapNudge:1,touchEnabled:!0,touchSensitivity:.25,touchStartCallback:y,touchMoveCallback:y,touchEndCallback:y},e=function(){function e(t,n){var r,p,d,y,v,b,O,w,k,E,S,P,A,M,z,D,F,H,N,R,U,I,q,V,B,$,X,Y,j,Q,Z,W,G,J,K,te,ee,ne,ie,se,oe,re,ae,he,le,ue;if(this.el=t,null==n&&(n={}),this._onMouseOut=C(this._onMouseOut,this),this._onTouchLeave=C(this._onTouchLeave,this),this._onTouchEnd=C(this._onTouchEnd,this),this._onTouchMove=C(this._onTouchMove,this),this._onTouchStart=C(this._onTouchStart,this),this._stageReset=C(this._stageReset,this),this._conclude=C(this._conclude,this),this._onTransitionEnd=C(this._onTransitionEnd,this),this._step=C(this._step,this),g){if(!(this instanceof e))return new e(this.el,n);if("string"==typeof this.el&&(this.el=document.querySelector(this.el)),!this.el||1!==this.el.nodeType)return void("undefined"!=typeof console&&null!==console&&console.warn("OriDomi: First argument must be a DOM element"));this._config=new function(){for(m in c)x=c[m],this[m]=m in n?n[m]:x;return this},this._config.ripple=Number(this._config.ripple),this._queue=[],this._panels={},this._stages={},this._lastOp={anchor:i[0]},this._shading=this._config.shading,this._shading===!0&&(this._shading="hard"),this._shading&&(this._shaders={},B={},V=l("shader"),V.style[u.transitionDuration]=this._config.speed+"ms",V.style[u.transitionTimingFunction]=this._config.easingMethod),X=l("stage"),X.style[u.perspective]=this._config.perspective+"px";for(Y=0,W=i.length;W>Y;Y++)if(p=i[Y],this._panels[p]=[],this._stages[p]=h(X,!1,"stage"+a(p)),this._shading){if(this._shaders[p]={},L.call(o,p)>=0)for(j=0,G=o.length;G>j;j++)$=o[j],this._shaders[p][$]=[];else for(Q=0,J=s.length;J>Q;Q++)$=s[Q],this._shaders[p][$]=[];B[p]=h(V,!1,"shader"+a(p))}for(O=h(this.el,!0,"content"),P=l("mask"),P.appendChild(O),N=l("panel"),N.style[u.transitionDuration]=this._config.speed+"ms",N.style[u.transitionTimingFunction]=this._config.easingMethod,M={left:[],top:[]},le=["x","y"],Z=0,K=le.length;K>Z;Z++){if(y=le[Z],"x"===y?(d=o,A="width",v="V"):(d=s,A="height",v="H"),D=this._config[F=v.toLowerCase()+"Panels"],"number"==typeof D)w=Math.abs(parseInt(D,10)),R=100/w,D=this._config[F]=function(){var t,e;for(e=[],t=0;w>=0?w>t:t>w;w>=0?t++:t--)e.push(R);return e}();else if(w=D.length,!(99<=(ue=D.reduce(function(t,e){return t+e}))&&100.1>=ue))throw new Error("OriDomi: Panel percentages do not sum to 100");if(S=h(P,!0,"mask"+v),this._shading)for(se=0,te=d.length;te>se;se++)p=d[se],S.appendChild(B[p]);for(I=h(N,!1,"panel"+v),I.appendChild(S),q=oe=0,ee=d.length;ee>oe;q=++oe){for(p=d[q],H=re=0;w>=0?w>re:re>w;H=w>=0?++re:--re){if(z=I.cloneNode(!0),b=z.children[0].children[0],b.style.width=b.style.height="100%",q?(z.style[u.origin]=p,E=D.length-H-1,U=E+1):(E=H,U=E-1,M[p].push(0===H?0:(M[p][U]-100)*(D[U]/D[E]))),0===H?(z.style[p]="0",z.style[A]=D[E]+"%"):(z.style[p]="100%",z.style[A]=D[E]/D[U]*100+"%"),this._shading)for(k=ae=0,ne=d.length;ne>ae;k=++ae)r=d[k],this._shaders[p][r][H]=z.children[0].children[k+1];b.style[A]=b.style["max"+a(A)]=w/D[E]*1e4/w+"%",b.style[d[0]]=M[d[0]][E]+"%",this._transformPanel(z,0,p),this._panels[p][H]=z,0!==H&&this._panels[p][H-1].appendChild(z)}this._stages[p].appendChild(this._panels[p][0])}}for(this._stageHolder=l("holder"),he=0,ie=i.length;ie>he;he++)p=i[he],this._stageHolder.appendChild(this._stages[p]);"absolute"===window.getComputedStyle(this.el).position&&(this.el.style.position="absolute"),this.el.classList.add(f.active),T(this._stages.left),this._cloneEl=h(this.el,!0,"clone"),this._cloneEl.classList.remove(f.active),_(this._cloneEl),this.el.innerHTML="",this.el.appendChild(this._cloneEl),this.el.appendChild(this._stageHolder),this.el.parentNode.style[u.transformStyle]="preserve-3d",this.accordion(0),this._config.ripple&&this.setRipple(this._config.ripple),this._config.touchEnabled&&this.enableTouch()}}return e.prototype._step=function(){var t,e,n,i,s,o;if(!this._inTrans&&this._queue.length)return this._inTrans=!0,o=this._queue.shift(),n=o[0],e=o[1],t=o[2],s=o[3],this.isFrozen&&this.unfreeze(),i=function(i){return function(){var o;return i._setCallback({angle:e,anchor:t,options:s,fn:n}),o=[e,t,s],n.length<3&&o.shift(),n.apply(i,o)}}(this),this.isFoldedUp?2===n.length?i():this._unfold(i):t!==this._lastOp.anchor?this._stageReset(t,i):i()},e.prototype._isIdenticalOperation=function(t){var e,n,i,s,o;if(!this._lastOp.fn)return!0;if(this._lastOp.reset)return!1;for(s=["angle","anchor","fn"],n=0,i=s.length;i>n;n++)if(e=s[n],this._lastOp[e]!==t[e])return!1;o=t.options;for(m in o)if(x=o[m],x!==this._lastOp.options[m]&&"callback"!==m)return!1;return!0},e.prototype._setCallback=function(t){return!this._config.speed||this._isIdenticalOperation(t)?this._conclude(t.options.callback):this._panels[this._lastOp.anchor][0].addEventListener(u.transitionEnd,this._onTransitionEnd,!1),(this._lastOp=t).reset=!1},e.prototype._onTransitionEnd=function(t){return t.currentTarget.removeEventListener(u.transitionEnd,this._onTransitionEnd,!1),this._conclude(this._lastOp.options.callback,t)},e.prototype._conclude=function(t,e){return p(function(n){return function(){return n._inTrans=!1,n._step(),"function"==typeof t?t(e,n):void 0}}(this))},e.prototype._transformPanel=function(t,e,n,i){var s,o,r,a;switch(o=r=a=0,n){case"left":r=e,s="X(-";break;case"right":r=-e,s="X(";break;case"top":o=-e,s="Y(-";break;case"bottom":o=e,s="Y("}return i&&(o=r=a=e),t.style[u.transform]="rotateX("+o+"deg) rotateY("+r+"deg) rotateZ("+a+"deg) translate"+s+this._config.gapNudge+"px)"},e.prototype._normalizeAngle=function(t){var e;return t=parseFloat(t,10),e=this._config.maxAngle,isNaN(t)?0:t>e?e:-e>t?-e:t},e.prototype._setTrans=function(t,e,n){return null==n&&(n=this._lastOp.anchor),this._iterate(n,function(i){return function(s,o,r){return i._setPanelTrans.apply(i,[n].concat(P.call(arguments),[t],[e]))}}(this))},e.prototype._setPanelTrans=function(t,e,n,i,r,a){var h,l,c,p,f,d;if(h=function(){switch(a){case 0:return 0;case 1:return this._config.speed/i*n;case 2:return this._config.speed/i*(i-n-1)}}.call(this),e.style[u.transitionDuration]=r+"ms",e.style[u.transitionDelay]=h+"ms",this._shading)for(d=L.call(o,t)>=0?o:s,p=0,f=d.length;f>p;p++)c=d[p],l=this._shaders[t][c][n],l.style[u.transitionDuration]=r+"ms",l.style[u.transitionDelay]=h+"ms";return h},e.prototype._setShader=function(t,e,n){var i,s,r,a;return s=Math.abs(n),a=s/90*this._config.shadingIntensity,"hard"===this._shading?(a*=.15,n=this._lastOp.angle<0?s:-s):a*=.4,L.call(o,e)>=0?(0>n?(i=a,r=0):(i=0,r=a),this._shaders[e].left[t].style.opacity=i,this._shaders[e].right[t].style.opacity=r):(0>n?(i=0,r=a):(i=a,r=0),this._shaders[e].top[t].style.opacity=i,this._shaders[e].bottom[t].style.opacity=r)},e.prototype._showStage=function(t){return t!==this._lastOp.anchor?(_(this._stages[this._lastOp.anchor]),this._lastOp.anchor=t,this._lastOp.reset=!0,this._stages[t].style[u.transform]="translate3d("+function(){switch(t){case"left":return"0, 0, 0)";case"right":return"-"+this._config.vPanels.length+"px, 0, 0)";case"top":return"0, 0, 0)";case"bottom":return"0, -"+this._config.hPanels.length+"px, 0)"}}.call(this)):void 0},e.prototype._stageReset=function(t,e){var n;return n=function(i){return function(s){return s&&s.currentTarget.removeEventListener(u.transitionEnd,n,!1),i._showStage(t),p(e)}}(this),0===this._lastOp.angle?n():(this._panels[this._lastOp.anchor][0].addEventListener(u.transitionEnd,n,!1),this._iterate(this._lastOp.anchor,function(t){return function(e,n){return t._transformPanel(e,0,t._lastOp.anchor),t._shading?t._setShader(n,t._lastOp.anchor,0):void 0}}(this)))},e.prototype._getLonghandAnchor=function(t){switch(t.toString()){case"left":case"l":case"4":return"left";case"right":case"r":case"2":return"right";case"top":case"t":case"1":return"top";case"bottom":case"b":case"3":return"bottom";default:return"left"}},e.prototype._setCursor=function(t){return null==t&&(t=this._touchEnabled),this.el.style.cursor=t?u.grab:"default"},e.prototype._setTouch=function(t){var e,n,i,s,o,r,a,h,l;if(t){if(this._touchEnabled)return this;s="addEventListener"}else{if(!this._touchEnabled)return this;s="removeEventListener"}this._touchEnabled=t,this._setCursor(),i=[["TouchStart","MouseDown"],["TouchEnd","MouseUp"],["TouchMove","MouseMove"],["TouchLeave","MouseLeave"]],o="onmouseleave"in window;for(r=0,h=i.length;h>r;r++)for(n=i[r],a=0,l=n.length;l>a;a++){if(e=n[a],"TouchLeave"===e&&!o){this.el[s]("mouseout",this._onMouseOut,!1);break}this.el[s](e.toLowerCase(),this["_on"+n[0]],!1)}return this},e.prototype._onTouchStart=function(t){var e,n;if(this._touchEnabled&&!this.isFoldedUp)return t.preventDefault(),this.emptyQueue(),this._touchStarted=!0,this.el.style.cursor=u.grabbing,this._setTrans(0,0),this._touchAxis=(n=this._lastOp.anchor,L.call(o,n)>=0?"x":"y"),this["_"+this._touchAxis+"Last"]=this._lastOp.angle,e="_"+this._touchAxis+"1",this[e]="mousedown"===t.type?t["page"+this._touchAxis.toUpperCase()]:t.targetTouches[0]["page"+this._touchAxis.toUpperCase()],this._config.touchStartCallback(this[e],t)},e.prototype._onTouchMove=function(t){var e,n,i;if(this._touchEnabled&&this._touchStarted)return t.preventDefault(),e="mousemove"===t.type?t["page"+this._touchAxis.toUpperCase()]:t.targetTouches[0]["page"+this._touchAxis.toUpperCase()],i=(e-this["_"+this._touchAxis+"1"])*this._config.touchSensitivity,this._lastOp.angle<0?(n="right"===this._lastOp.anchor||"bottom"===this._lastOp.anchor?this["_"+this._touchAxis+"Last"]-i:this["_"+this._touchAxis+"Last"]+i,n>0&&(n=0)):(n="right"===this._lastOp.anchor||"bottom"===this._lastOp.anchor?this["_"+this._touchAxis+"Last"]+i:this["_"+this._touchAxis+"Last"]-i,0>n&&(n=0)),this._lastOp.angle=n=this._normalizeAngle(n),this._lastOp.fn.call(this,n,this._lastOp.anchor,this._lastOp.options),this._config.touchMoveCallback(n,t)},e.prototype._onTouchEnd=function(t){return this._touchEnabled?(this._touchStarted=this._inTrans=!1,this.el.style.cursor=u.grab,this._setTrans(this._config.speed,this._config.ripple),this._config.touchEndCallback(this["_"+this._touchAxis+"Last"],t)):void 0},e.prototype._onTouchLeave=function(t){return this._touchEnabled&&this._touchStarted?this._onTouchEnd(t):void 0},e.prototype._onMouseOut=function(t){return this._touchEnabled&&this._touchStarted?t.toElement&&!this.el.contains(t.toElement)?this._onTouchEnd(t):void 0:void 0},e.prototype._unfold=function(t){var e;return this._inTrans=!0,e=this._lastOp.anchor,this._iterate(e,function(n){return function(i,s,o){var r;return r=n._setPanelTrans.apply(n,[e].concat(P.call(arguments),[n._config.speed],[1])),function(e,i,s){return p(function(){return n._transformPanel(e,0,n._lastOp.anchor),setTimeout(function(){return T(e.children[0]),i===o-1&&(n._inTrans=n.isFoldedUp=!1,"function"==typeof t&&t(),n._lastOp.fn=n.accordion,n._lastOp.angle=0),p(function(){return e.style[u.transitionDuration]=n._config.speed})},s+.25*n._config.speed)})}(i,s,r)}}(this))},e.prototype._iterate=function(t,e){var n,i,s,o,r,a,h;for(a=s=this._panels[t],h=[],n=o=0,r=a.length;r>o;n=++o)i=a[n],h.push(e.call(this,i,n,s.length));return h},e.prototype.enableTouch=function(){return this._setTouch(!0)},e.prototype.disableTouch=function(){return this._setTouch(!1)},e.prototype.setSpeed=function(t){var e,n,s;for(n=0,s=i.length;s>n;n++)e=i[n],this._setTrans(this._config.speed=t,this._config.ripple,e);return this},e.prototype.freeze=function(t){return this.isFrozen?"function"==typeof t&&t():this._stageReset(this._lastOp.anchor,function(e){return function(){return e.isFrozen=!0,_(e._stageHolder),T(e._cloneEl),e._setCursor(!1),"function"==typeof t?t():void 0}}(this)),this},e.prototype.unfreeze=function(){return this.isFrozen&&(this.isFrozen=!1,_(this._cloneEl),T(this._stageHolder),this._setCursor(),this._lastOp.angle=0),this},e.prototype.destroy=function(e){return this.freeze(function(n){return function(){return n._setTouch(!1),t&&t.data(n.el,r,null),n.el.innerHTML=n._cloneEl.innerHTML,n.el.classList.remove(f.active),"function"==typeof e?e():void 0}}(this)),null},e.prototype.emptyQueue=function(){return this._queue=[],p(function(t){return function(){return t._inTrans=!1}}(this)),this},e.prototype.setRipple=function(t){return null==t&&(t=1),this._config.ripple=Number(t),this.setSpeed(this._config.speed),this},e.prototype.constrainAngle=function(t){return this._config.maxAngle=parseFloat(t,10)||c.maxAngle,this},e.prototype.wait=function(t){var e;return e=function(e){return function(){return setTimeout(e._conclude,t)}}(this),this._inTrans?this._queue.push([e,this._lastOp.angle,this._lastOp.anchor,this._lastOp.options]):e(),this},e.prototype.modifyContent=function(t){var e,n,s,o,r,a,h,l,u,c;for("function"!=typeof t&&(o=t,r=function(t,e,n){var i,s;if(e&&(t.innerHTML=e),n){for(i in n)s=n[i],t.style[i]=s;return null}},t=function(t){var e,n,i,s,a,h,l,u;for(i in o)if(a=o[i],e=s=null,"string"==typeof a?e=a:(e=a.content,s=a.style),""!==i)for(u=t.querySelectorAll(i),h=0,l=u.length;l>h;h++)n=u[h],r(n,e,s);else r(t,e,s);return null}),a=0,l=i.length;l>a;a++)for(e=i[a],c=this._panels[e],n=h=0,u=c.length;u>h;n=++h)s=c[n],t(s.children[0].children[0],n,e);return this},e.prototype.accordion=b(function(t,e,n){return this._iterate(e,function(i){return function(s,o){var r;return r=o%2===0||n.twist?t:-t,n.sticky?0===o?r=0:(o>1||n.stairs)&&(r*=2):0!==o&&(r*=2),n.stairs&&(r*=-1),i._transformPanel(s,r,e,n.fracture),!i._shading||0===o&&n.sticky||180===Math.abs(r)?void 0:i._setShader(o,e,r)}}(this))}),e.prototype.curl=b(function(t,e,n){return t/=L.call(o,e)>=0?this._config.vPanels.length:this._config.hPanels.length,this._iterate(e,function(n){return function(i,s){return n._transformPanel(i,t,e),n._shading?n._setShader(s,e,0):void 0}}(this))}),e.prototype.ramp=b(function(t,e,n){return this._transformPanel(this._panels[e][1],t,e),this._iterate(e,function(t){return function(n,i){return 1!==i&&t._transformPanel(n,0,e),t._shading?t._setShader(i,e,0):void 0}}(this))}),e.prototype.foldUp=b(function(t,e){return this.isFoldedUp?"function"==typeof e?e():void 0:this._stageReset(t,function(n){return function(){return n._inTrans=n.isFoldedUp=!0,n._iterate(t,function(i,s,o){var r,a;return a=n._config.speed,0===s&&(a/=2),r=n._setPanelTrans.apply(n,[t].concat(P.call(arguments),[a],[2])),function(i,s,o){return p(function(){return n._transformPanel(i,0===s?90:170,t),setTimeout(function(){return 0===s?(n._inTrans=!1,"function"==typeof e?e():void 0):_(i.children[0])},o+.25*n._config.speed)})}(i,s,r)})}}(this))}),e.prototype.unfold=b(function(t){return this._unfold.apply(this,arguments)}),e.prototype.map=function(t){return b(function(e){return function(n,i,s){return e._iterate(i,function(o,r,a){return e._transformPanel(o,t(n,r,a),i,s.fracture)})}}(this)).bind(this)},e.prototype.reset=function(t){return this.accordion(0,{callback:t})},e.prototype.reveal=function(t,e,n){return null==n&&(n={}),n.sticky=!0,this.accordion(t,e,n)},e.prototype.stairs=function(t,e,n){return null==n&&(n={}),n.stairs=n.sticky=!0,this.accordion(t,e,n)},e.prototype.fracture=function(t,e,n){return null==n&&(n={}),n.fracture=!0,this.accordion(t,e,n)},e.prototype.twist=function(t,e,n){return null==n&&(n={}),n.fracture=n.twist=!0,this.accordion(t/10,e,n)},e.prototype.collapse=function(t,e){return null==e&&(e={}),e.sticky=!1,this.accordion(-this._config.maxAngle,t,e)},e.prototype.collapseAlt=function(t,e){return null==e&&(e={}),e.sticky=!1,this.accordion(this._config.maxAngle,t,e)},e.VERSION="1.1.0",e.isSupported=g,e}(),("undefined"!=typeof module&&null!==module?module.exports:void 0)?module.exports=e:("undefined"!=typeof define&&null!==define?define.amd:void 0)?define(function(){return e}):window.OriDomi=e,t&&(t.prototype.oriDomi=function(n){var i,s,o,a,h,l,u,c;if(!g)return this;if(n===!0)return t.data(this[0],r);if("string"==typeof n){if(a=n,"function"!=typeof(o=e.prototype[a]))return"undefined"!=typeof console&&null!==console&&console.warn("OriDomi: No such method `"+a+"`"),this;for(h=0,u=this.length;u>h;h++)i=this[h],(s=t.data(i,r))||(s=t.data(i,r,new e(i,n))),o.apply(s,Array.prototype.slice.call(arguments).slice(1))}else for(l=0,c=this.length;c>l;l++)i=this[l],(s=t.data(i,r))||t.data(i,r,new e(i,n));return this})}).call(this);